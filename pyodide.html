<html>
<head>
  <meta charset="utf-8">
</head>
<body>
  <script type="text/javascript">
      // set the pyodide files URL (packages.json, pyodide.asm.data etc)
      window.languagePluginUrl = 'https://cdn.jsdelivr.net/pyodide/v0.16.1/full/';
  </script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/pyodide/v0.16.1/full/pyodide.js"></script>
  <script type="text/javascript">
    pythonCode = `
      def do_work(*args):
          from ladybug.dt import DateTime
          from ladybug.color import Color, Colorset, ColorRange

          colorset = Colorset.openstudio_palette()
          print(colorset)

          dt = DateTime(6, 21, 12, 0, False)
          print("Ladybug says the date is " + str(dt) + "!")

      import micropip
      micropip.install('ladybug-core').then(do_work)
    `

    languagePluginLoader.then(() => {
      return pyodide.loadPackage(['micropip'])
    }).then(() => {
      pyodide.runPython(pythonCode);
    })
  </script>
</body>
</html>